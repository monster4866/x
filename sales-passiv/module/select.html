<div class="container h-100 popin">
    <div class="row align-items-center h-100">
        <div class="col">
            <div class="row" style="background: var(--secondary-color-95)">
                <div class="col">
                    <div>
                        <a href="" ng-click="getRisk('./wphg-invalid.json')">nicht aktuell</a> |
                        <a href="" ng-click="getRisk('./wphg-valid-c2.json')">aktuell c2</a> |
                        <a href="" ng-click="getRisk('./wphg-valid-c3.json')">aktuell c3</a>
                    </div>
                    <div ng-hide="risk.valid">
                        <span class="material-symbols-sharp text-danger">warning</span>
                        Profil muss aktualisiert werden
                    </div>
                    <div ng-show="risk.valid">
                        <span class="material-symbols-sharp text-success">check_circle</span>
                        Profil aktuell
                        <div style="color: #999">Anlageklasse: {{risk.class}}</div>
                        {{risk}}
                    </div>
                    <div>
                        <a href="../wphg/#!/customer/ID1" target="_blank">Wechsel zu WpHG</a><br/>
                    </div>
                </div>
            </div>
            <hr/>
            <div class="row" ng-show="risk.valid">
                <div class="col">
                    <b>Vermögensverteilung</b>
                    <ul>
                        <li>benötigte Liquidität: {{kft}}</li>
                        <li>
                            Sicherheit: {{wealthx.secure}}
                            <input type="range" class="form-range" min="0" max="100" value="0" ng-model="wealthx.secure" ng-change="wealthx.rendite = (100-wealthx.secure)">
                        </li>
                        <li>
                            Rendite: {{wealthx.rendite}}
                            <input type="range" class="form-range" min="0" max="100" value="0" ng-model="wealthx.rendite" ng-change="wealthx.secure = (100-wealthx.rendite)">
                        </li>
                    </ul>
                    <hr/>
                </div>
            </div>
            <div class="row" ng-show="risk.valid">
               <div class="col">
                   <div style="color: #999">{{sumCalc(testaccounts) | currency:"EUR":0}} | Gesamtvermögen</div>
                   <h4 ng-show="amount2x>0">{{amount2x | currency:"EUR":0}} | Vermögen für die Geldanlage</h4>
                   <hr/>
               </div>
            </div>
            <div ng-repeat="acc in testaccounts" ng-show="risk.valid">
                <div class="item"
                     ng-class="{'active': testaccounts[$index].active == true }">
                    <input class="form-check-input" type="checkbox"
                           ng-model="testaccounts[$index].active"
                           ng-click="testaccounts[$index].amount2 = acc.amount"
                           ng-if="acc.amount">
                    <a href="" ng-hide="acc.internal">edit</a>
                    {{acc.title}},
                    {{acc.amount | currency:"EUR":0}}
                    <span ng-show="acc.internal">(Intern)</span>
                    <span ng-show="acc.typ == 300" class="text-danger">feste Geldanlage</span>
                    <input type="number" class="form-control" value="{{acc.amount}}" ng-show="acc.active" ng-model="testaccounts[$index].amount2"/>
                </div>
                <div ng-repeat="depot in acc.data" class="item"
                     ng-class="{'active': depot.sell == true }">
                    <input class="form-check-input" type="checkbox"
                            ng-model="depot.sell">
                    {{depot.title}},
                    {{depot.stk * depot.price | currency:"EUR":0}},
                    <div ng-show="depot.internal" style="display: inline-block">
                        Class: {{depot.class}},
                        <span ng-show="risk.class >= depot.class">Halten</span>
                        <span class="text-danger" ng-show="risk.class < depot.class">
                            <span class="material-symbols-sharp">emergency_home</span>
                            Verkaufen
                        </span>
                    </div>
                    <input type="number" class="form-control" value="{{depot.stk * depot.price}}" ng-show="depot.sell" ng-model="depot.sellAmount"/>
                </div>
                <hr/>
            </div>
            {{testaccounts}}
            <div class="footer"></div>
        </div>
    </div>
</div>

<div class="addWealth"></div>
